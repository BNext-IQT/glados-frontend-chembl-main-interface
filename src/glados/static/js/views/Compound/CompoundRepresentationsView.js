// Generated by CoffeeScript 1.4.0
var CompoundRepresentationsView;

CompoundRepresentationsView = CardView.extend({
  initialize: function() {
    this.model.on('change', this.render, this);
    this.model.on('error', this.showCompoundErrorCard, this);
    return this.resource_type = 'Compound';
  },
  render: function() {
    this.molecule_structures = this.model.get('molecule_structures');
    if (!(this.molecule_structures != null)) {
      $('#CompoundRepresentations').hide();
      return;
    }
    this.renderCanonicalSmiles();
    this.renderStandardInchi();
    this.renderStandardInchiKey();
    this.showCardContent();
    this.initEmbedModal('representations');
    this.activateTooltips();
    this.activateModals();
    return afterRender();
  },
  renderCanonicalSmiles: function() {
    var copy_btn;
    $(this.el).find('#CompReps-canonicalSmiles, #CompReps-canonicalSmiles-small').attr('value', this.molecule_structures['canonical_smiles']);
    ButtonsHelper.initDownloadBtn($(this.el).find('#CompReps-canonicalSmiles-dnld, #CompReps-canonicalSmiles-small-dnld'), GlobalVariables.CHEMBL_ID + '.smi', 'Download SMILES file.', this.molecule_structures['canonical_smiles'] + '%20' + this.model.get('molecule_chembl_id'));
    copy_btn = $(this.el).find('#CompReps-canonicalSmiles-copy, #CompReps-canonicalSmiles-small-copy');
    return ButtonsHelper.initCopyButton(copy_btn, 'Copy to Clipboard', this.molecule_structures['canonical_smiles']);
  },
  renderStandardInchi: function() {
    var copy_btn;
    $(this.el).find('#CompReps-standardInchi, #CompReps-standardInchi-small').attr('value', this.molecule_structures['standard_inchi']);
    ButtonsHelper.initDownloadBtn($(this.el).find('#CompReps-standardInchi-dnld, #CompReps-standardInchi-small-dnld'), GlobalVariables.CHEMBL_ID + '-INCHI.txt', 'Download InChI.', this.molecule_structures['standard_inchi']);
    copy_btn = $(this.el).find('#CompReps-standardInchi-copy, #CompReps-standardInchi-small-copy');
    return ButtonsHelper.initCopyButton(copy_btn, 'Copy to Clipboard', this.molecule_structures['standard_inchi']);
  },
  renderStandardInchiKey: function() {
    var copy_btn;
    $(this.el).find('#CompReps-standardInchiKey, #CompReps-standardInchiKey-small').attr('value', this.molecule_structures['standard_inchi_key']);
    ButtonsHelper.initDownloadBtn($(this.el).find('#CompReps-standardInchiKey-dnld, #CompReps-standardInchiKey-small-dnld'), GlobalVariables.CHEMBL_ID + '-INCHI_KEY.txt', 'Download InChI Key.', this.molecule_structures['standard_inchi_key']);
    copy_btn = $(this.el).find('#CompReps-standardInchiKey-copy, #CompReps-standardInchiKey-small-copy');
    return ButtonsHelper.initCopyButton(copy_btn, 'Copy to Clipboard', this.molecule_structures['standard_inchi_key']);
  }
});

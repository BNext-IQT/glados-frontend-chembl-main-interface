// Generated by CoffeeScript 1.4.0
var TargetReportCardApp;

TargetReportCardApp = (function() {

  function TargetReportCardApp() {}

  TargetReportCardApp.init = function() {
    var appDrugsClinCandsList, target, targetRelations;
    $('.scrollspy').scrollSpy();
    ScrollSpyHelper.initializeScrollSpyPinner();
    GlobalVariables.CHEMBL_ID = URLProcessor.getRequestedChemblID();
    target = new Target({
      target_chembl_id: GlobalVariables.CHEMBL_ID
    });
    appDrugsClinCandsList = new ApprovedDrugClinicalCandidateList;
    appDrugsClinCandsList.url = Settings.WS_BASE_URL + 'mechanism.json?target_chembl_id=' + GlobalVariables.CHEMBL_ID;
    +'&order_by=molecule_chembl_id&limit=1000';
    targetRelations = new TargetRelationList;
    targetRelations.url = Settings.WS_DEV_BASE_URL + 'target_relation.json?related_target_chembl_id=' + GlobalVariables.CHEMBL_ID + '&order_by=target_chembl_id&limit=1000';
    new TargetNameAndClassificationView({
      model: target,
      el: $('#TNameClassificationCard')
    });
    new TargetComponentsView({
      model: target,
      el: $('#TComponentsCard')
    });
    new RelationsView({
      collection: targetRelations,
      el: $('#TRelationsCard')
    });
    new ApprovedDrugsClinicalCandidatesView({
      collection: appDrugsClinCandsList,
      el: $('#ApprovedDrugsAndClinicalCandidatesCard')
    });
    target.fetch();
    appDrugsClinCandsList.fetch();
    return targetRelations.fetch({
      reset: true
    });
  };

  TargetReportCardApp.initTargetNameAndClassification = function() {
    var target;
    GlobalVariables.CHEMBL_ID = URLProcessor.getRequestedChemblIDWhenEmbedded();
    target = new Target({
      target_chembl_id: GlobalVariables.CHEMBL_ID
    });
    new TargetNameAndClassificationView({
      model: target,
      el: $('#TNameClassificationCard')
    });
    return target.fetch();
  };

  TargetReportCardApp.initTargetComponents = function() {
    var target;
    GlobalVariables.CHEMBL_ID = URLProcessor.getRequestedChemblIDWhenEmbedded();
    target = new Target({
      target_chembl_id: GlobalVariables.CHEMBL_ID
    });
    new TargetComponentsView({
      model: target,
      el: $('#TComponentsCard')
    });
    return target.fetch();
  };

  TargetReportCardApp.initTargetRelations = function() {
    var targetRelations;
    GlobalVariables.CHEMBL_ID = URLProcessor.getRequestedChemblIDWhenEmbedded();
    targetRelations = new TargetRelationList;
    targetRelations.url = Settings.WS_DEV_BASE_URL + 'target_relation.json?related_target_chembl_id=' + GlobalVariables.CHEMBL_ID + '&order_by=target_chembl_id&limit=1000';
    new RelationsView({
      collection: targetRelations,
      el: $('#TRelationsCard')
    });
    return targetRelations.fetch({
      reset: true
    });
  };

  TargetReportCardApp.initApprovedDrugsClinicalCandidates = function() {
    var appDrugsClinCandsList;
    GlobalVariables.CHEMBL_ID = URLProcessor.getRequestedChemblIDWhenEmbedded();
    appDrugsClinCandsList = new ApprovedDrugClinicalCandidateList;
    appDrugsClinCandsList.url = Settings.WS_BASE_URL + 'mechanism.json?target_chembl_id=' + GlobalVariables.CHEMBL_ID + '&order_by=molecule_chembl_id&limit=1000';
    new ApprovedDrugsClinicalCandidatesView({
      collection: appDrugsClinCandsList,
      el: $('#ApprovedDrugsAndClinicalCandidatesCard')
    });
    return appDrugsClinCandsList.fetch();
  };

  return TargetReportCardApp;

})();

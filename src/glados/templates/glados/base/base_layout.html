<!DOCTYPE html>
{% load static %}
<html>
<head>
  <meta charset="UTF-8">
  <link rel="icon" href="{% static 'favicon.ico' %}" type="image/x-icon" />
  <title>{% block title %}{% endblock %}</title>

  {% load compress %}
  <!-- Imports used by all the templates-->
  <!-- only use this if absolutely necessary, it can complicate the css imports -->
  {% block common_css %}
    {% include "glados/base/css_imports_for_all.html" %}
  {% endblock %}


  <!-- Imports used by the current template -->
  {% block stylesheets %}{% endblock %}

</head>

<body>

<header>
  <div class="row">

    {% block header %}
      {% include "glados/base/header.html" %}
    {% endblock %}

  </div>

  <div class="row">
   {% block chembl_header %}
      {% include "glados/base/chembl_header.html" %}
    {% endblock %}
  </div>

</header>


<main>


  <!-- Side Navbar-->
  {% block side_nav %}
    {% include "glados/base/side_nav.html" %}
  {% endblock %}


  {% block content %}{% endblock %}

  {% block download_db_menu %}
    {% include "glados/MainPageParts/download_db_menu.html" %}
  {% endblock %}

</main>

<!-- - - - - - - - - - - - - - - - - - - - -->
<!-- Footer -->
<!-- - - - - - - - - - - - - - - - - - - - -->
<footer  class="page-footer">
  {% block footer %}
    {% include "glados/base/footer.html" %}
  {% endblock %}
</footer>


<!-- - - - - - - - - - - - - - - - - - - - -->
<!-- APIs -->
<!-- - - - - - - - - - - - - - - - - - - - -->

<!-- common imports for all templates -->
{% include "glados/base/js_imports_for_all.html" %}

<!-- custom js imports that each template decides to load -->
<!-- only use this if absolutely necessary, it can complicate the js imports -->
{% compress js %}
   {% block custom_js %}{% endblock %}
{% endcompress %}

<!-- handlebars templates -->
{% block common_handlebars %}
  {% include "glados/Handlebars/CommonSources.html" %}
  {% include "glados/Handlebars/DownloadWizard/Hbs-WizardStep.html" %}
{% endblock %}

{% block custom_handlebars %}
{% endblock %}

<!-- inline javascript -->
{% compress js %}
<script type="text/javascript" charset="utf-8">

  SMALL_WIDTH = 600;
  MEDIUM_WIDTH = 992;

  $(document).ready(function () {

    // initialization of visualization code.
    // This controls the padding of the sidenav.
    SideMenuHelper.initializeTopMenuController();
    // collapse button, the one that shows the sidenav on mobile
    $(".button-collapse").sideNav();
    SideMenuHelper.complementaryinitSideNav();

    {% block custom_js_inline %}{% endblock %}

    //the initialization of modals needs to be as specific as possible to avoid issues with all the other modals
    $('.modal-trigger-safe').leanModal();

    var baseMenuItem = DownloadWizardApp.initWizardStep();
    DownloadWizardApp.initBaseWizardStepView(baseMenuItem, $('#download-wizard'));
    baseMenuItem.fetch();

  });
</script>
{% endcompress%}

<!-- a function to be called after the content is rendered  -->
{% compress js %}
<script type="text/javascript" charset="utf-8">

  afterRender = function (){

    {% block custom_afterRender %}{% endblock %}


  }

</script>
{% endcompress%}

{% load static %}

<!-- common imports for all templates that need to be last -->
{% compress js %}
<!-- this sets up the styles for the chemical formulas after they have been rendered in the page-->
<script type="text/javascript" src="{% static 'js/api/easychem.js' %}"></script>
{% endcompress %}


</body>
</html>
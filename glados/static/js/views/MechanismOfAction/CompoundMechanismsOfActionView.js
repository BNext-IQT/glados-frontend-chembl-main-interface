// Generated by CoffeeScript 1.4.0
var CompoundMechanismsOfActionView;

CompoundMechanismsOfActionView = CardView.extend({
  initialize: function() {
    this.collection.on('reset', this.render, this);
    this.collection.on('error', this.showCompoundErrorCard, this);
    return this.resource_type = 'Compound';
  },
  render: function() {
    if (this.collection.size() === 0) {
      $('#MechanismOfAction').hide();
      return;
    }
    this.addAllMechanisms();
    this.showCardContent();
    this.initEmbedModal('mechanism_of_action');
    this.activateTooltips();
    return this.activateModals();
  },
  addOneMechanism: function(mechanismOfAction) {
    var coll, collItemView, table, view;
    view = new MechanismOfActionRowView({
      model: mechanismOfAction
    });
    table = $(this.el).find('table');
    table.append(view.render().el);
    collItemView = new MechanismOfActionCollItemView({
      model: mechanismOfAction
    });
    coll = $(this.el).find('ul');
    return coll.append(collItemView.render().el);
  },
  addAllMechanisms: function() {
    return this.collection.forEach(this.addOneMechanism, this);
  }
});

// Generated by CoffeeScript 1.4.0
var CompoundFeaturesView;

CompoundFeaturesView = CardView.extend({
  initialize: function() {
    this.model.on('change', this.render, this);
    return this.model.on('error', this.showCompoundErrorCard, this);
  },
  render: function() {
    this.renderMoleculeType();
    this.renderFirstInClass();
    $(this.el).children('.card-preolader-to-hide').hide();
    $(this.el).children(':not(.card-preolader-to-hide, .card-load-error)').show();
    return this.activateTooltips();
  },
  renderMoleculeType: function() {
    var moltype_div, rendered;
    moltype_div = $(this.el).find('#Bck-MolType');
    console.log(this.model.get('molecule_type'));
    rendered = Handlebars.compile($('#Handlebars-Compound-MoleculeFeatures-MolType').html())({
      active_class: this.getMolFeatureDetails('molecule_type', 0),
      filename: this.getMolFeatureDetails('molecule_type', 1),
      tooltip: this.getMolFeatureDetails('molecule_type', 2),
      description: this.getMolFeatureDetails('molecule_type', 3)
    });
    return moltype_div.html(rendered);
  },
  renderFirstInClass: function() {
    var first_in_class_div;
    first_in_class_div = $(this.el).find('#Bck-FirstInClass');
    console.log(this.model.get('first_in_class'));
    return first_in_class_div.html(Handlebars.compile($('#Handlebars-Compound-MoleculeFeatures-FirstInClass').html())({
      active_class: this.getMolFeatureDetails('first_in_class', 0),
      filename: this.getMolFeatureDetails('first_in_class', 1),
      tooltip: this.getMolFeatureDetails('first_in_class', 2),
      description: this.getMolFeatureDetails('first_in_class', 3)
    }));
  },
  getMolFeatureDetails: function(feature, position) {
    return this.molFeatures[feature][this.model.get(feature)][position];
  },
  molFeatures: {
    'molecule_type': {
      'Small molecule': ['active', 'mt_small_molecule', 'Molecule Type: small molecule', 'Small Molecule'],
      'Antibody': ['active', 'mt_antibody', 'Molecule Type: Antibody', 'Antibody'],
      'Enzyme': ['active', 'mt_enzyme', 'Molecule Type: Enzyme', 'Enzyme']
    },
    'first_in_class': {
      '0': ['', 'first_in_class', 'First in Class: No', 'First in Class'],
      '1': ['active', 'first_in_class', 'First in Class: Yes', 'First in Class']
    }
  }
});

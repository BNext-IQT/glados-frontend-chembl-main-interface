// Generated by CoffeeScript 1.4.0
var LazyIFramesHelper;

LazyIFramesHelper = (function() {

  function LazyIFramesHelper() {}

  LazyIFramesHelper.initLazyIFrames = function() {
    return $('.iframe-lazy-loader').each(function() {
      var currentLink;
      currentLink = $(this);
      return currentLink.click(function() {
        var iframe_id;
        if (!($(this).attr('data-if-loaded') != null)) {
          iframe_id = $(this).attr('data-if-id');
          $('#' + iframe_id).attr('src', $(this).attr('data-if-src'));
          return $(this).attr('data-if-loaded', true);
        }
      });
    });
  };

  /* *
    * Bind the element's click event to the fetch function of the backbone object
    * this can be used when you need some data to be loaded only when a tab is opened.
    * @param {Jquery} element for which the click event will be bound
    * @param {Model} model to fetch
    *
  */


  LazyIFramesHelper.loadObjectOnceOnClick = function(elem, obj) {
    return elem.click(function() {
      if (!($(this).attr('data-loaded') != null)) {
        obj.fetch();
        return $(this).attr('data-loaded', true);
      }
    });
  };

  return LazyIFramesHelper;

})();

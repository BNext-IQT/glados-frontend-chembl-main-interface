// Generated by CoffeeScript 1.4.0
var SearchModel;

SearchModel = Backbone.Model.extend({
  defaults: {
    queryString: '',
    searchCompounds: true,
    searchDocuments: true,
    compoundResultsList: null,
    documentResultsList: null
  },
  getCompoundResultsList: function() {
    if (!this.has('compoundResultsList')) {
      this.set('compoundResultsList', glados.models.paginated_collections.ESPaginatedQueryCollectionFactory.getNewCompoundResultsList());
    }
    return this.get('compoundResultsList');
  },
  getDocumentResultsList: function() {
    if (!this.has('documentResultsList')) {
      this.set('documentResultsList', glados.models.paginated_collections.ESPaginatedQueryCollectionFactory.getNewDocumentResultsList());
    }
    return this.get('documentResultsList');
  },
  search: function() {
    if (this.get('searchCompounds')) {
      this.getCompoundResultsList().setMeta('search_term', this.get('queryString'));
      this.getCompoundResultsList().fetch();
    }
    if (this.get('searchDocuments')) {
      this.getDocumentResultsList().setMeta('search_term', this.get('queryString'));
      return this.getDocumentResultsList().fetch();
    }
  }
});

SearchModel.getInstance = function() {
  if (!SearchModel.__model_instance) {
    SearchModel.__model_instance = new SearchModel;
  }
  return SearchModel.__model_instance;
};

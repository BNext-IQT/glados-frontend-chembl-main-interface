{% extends "glados/base/base_layout.html" %}

{% block title %}Compound report card{% endblock %}


{% block content %}

<div class="container main-container">

  <div class="row">

    <!-- the scrollspy disappears in medium and down -->
    <div class="col m12 l10">

      <!-- Compound name and classification Section Start -->
      <h2>Compound Report Card</h2>

      <div class="divider"></div>
      <div id="CompoundNameAndClassification" class="section scrollspy">
        <h3>Compound Name and Classification</h3>

        <div class="row">

          {% block cnc %}
          {% include "glados/CompoundReportCardParts/NameAndClassification.html" %}
          {% endblock %}

        </div>


      </div>


      <!------------------------------------------------------------------------------------------------>
      <!-- Compound name and classification Section End -->

      <div class="divider"></div>
      <div id="CompoundRepresentations" class="section scrollspy">
        <h3>Compound Representations</h3>

        <div class="row">

          {% block representations %}
          {% include "glados/CompoundReportCardParts/Representations.html" %}
          {% endblock %}

        </div>


      </div>

      <div class="divider"></div>
      <div id="MechanismOfAction" class="section scrollspy">
        <h3>Mechanism of Action</h3>
        <div class="row">


          {% block mechanism_of_action %}
          {% include "glados/CompoundReportCardParts/MechanismOfAction.html" %}
          {% endblock %}


        </div>
      </div>

      <div class="divider"></div>
      <div id="Indications" class="section scrollspy">
        <h3>Indications</h3>

        <div class="row">

          {% block indications %}
          {% include "glados/CompoundReportCardParts/Indications.html" %}
          {% endblock %}

        </div>


      </div>

      <div class="divider"></div>
      <div id="MoleculeFeatures" class="section scrollspy">
        <h3>Molecule Features</h3>

        <div class="row">

          {% block molecule_features %}
          {% include "glados/CompoundReportCardParts/MoleculeFeatures.html" %}
          {% endblock %}

        </div>

      </div>

      <div class="divider"></div>
      <div id="ClinicalData" class="section scrollspy">
        <h3>Clinical Data</h3>

        <div class="row">

          {% block clinical_data %}
          {% include "glados/CompoundReportCardParts/ClinicalData.html" %}
          {% endblock %}

        </div>

      </div>

      <div class="divider"></div>
      <div id="StructuralAlerts" class="section scrollspy">
        <h3>Structural Alerts</h3>


        {% block structural_alerts %}
        {% include "glados/CompoundReportCardParts/StructuralAlerts.html" %}
        {% endblock %}


      </div>

      <div class="divider"></div>
      <div id="AlternateFormsOfCompoundInChEMBL" class="section scrollspy">
        <h3>Alternate Forms of Compound in ChEMBL</h3>


        <div class="row">

          {% block alternate_forms %}
          {% include "glados/CompoundReportCardParts/AlternateForms.html" %}
          {% endblock %}

        </div>

      </div>

      <div class="divider"></div>
      <div id="CompoundBioactivitySummary" class="section scrollspy">
        <h3>Compound Bioactivity Summary</h3>
        <p>Stuff</p>
      </div>

      <div class="divider"></div>
      <div id="CompoundAssaySummary" class="section scrollspy">
        <h3>Compound Assay Summary</h3>
        <p>Stuff</p>
      </div>

      <div class="divider"></div>
      <div id="CompoundTargetSummary" class="section scrollspy">
        <h3>Compound Target Summary</h3>
        <p>Stuff</p>
      </div>

      <div class="divider"></div>
      <div id="TargetPredictions" class="section scrollspy">
        <h3>Target Predictions</h3>

        <div class="row">

          {% block target_predictions %}
          {% include "glados/CompoundReportCardParts/TargetPredictions.html" %}
          {% endblock %}

        </div>

      </div>

      <div class="divider"></div>
      <div id="CalculatedCompoundParentProperties" class="section scrollspy">
        <h3>Calculated Compound Parent Properties</h3>


         <div class="row">

          {% block calculated_parent_properties %}
          {% include "glados/CompoundReportCardParts/CalculatedCompoundParentProperties.html" %}
          {% endblock %}

        </div>

      </div>

      <div class="divider"></div>
      <div id="CompoundCrossReferences" class="section scrollspy">
        <h3>Compound Cross References</h3>

        <div class="row">

          {% block cross_references %}
          {% include "glados/CompoundReportCardParts/CrossReferences.html" %}
          {% endblock %}

        </div>

      </div>

      <div class="divider"></div>
      <div id="UniChemCrossReferences" class="section scrollspy">
        <h3>UniChem Cross References</h3>
        <p>Stuff</p>
      </div>

    </div>


    <!---------------------------------------------------------------------------------------------------------------->
    <!-- Scrolspy -->
    <!---------------------------------------------------------------------------------------------------------------->

    <div class="col l2 hide-on-med-and-down">

      <div class="scrollspy-wrapper pin-top">

        <ul class="section table-of-contents">
          <li><a href="#CompoundNameAndClassification">
            <small>Name and Classification</small>
          </a></li>
          <li><a href="#CompoundRepresentations">
            <small>Representations</small>
          </a></li>
          <li><a href="#MechanismOfAction">
            <small>Mechanism of Action</small>
          </a></li>
          <li><a href="#Indications">
            <small>Indications</small>
          </a></li>
          <li><a href="#MoleculeFeatures">
            <small>Molecule Features</small>
          </a></li>
          <li><a href="#ClinicalData">
            <small>Clinical Data</small>
          </a></li>
          <li><a href="#StructuralAlerts">
            <small>Structural Alerts</small>
          </a></li>
          <li><a href="#AlternateFormsOfCompoundInChEMBL">
            <small>Alternate Forms in ChEMBL</small>
          </a></li>
          <li><a href="#CompoundBioactivitySummary">
            <small>Bioactivity Summary</small>
          </a></li>
          <li><a href="#CompoundAssaySummary">
            <small>Assay Summary</small>
          </a></li>
          <li><a href="#CompoundTargetSummary">
            <small>Target Summary</small>
          </a></li>
          <li><a href="#TargetPredictions">
            <small>Target Predictions</small>
          </a></li>
          <li><a href="#CalculatedCompoundParentProperties">
            <small>Calculated Parent Properties</small>
          </a></li>
          <li><a href="#CompoundCrossReferences">
            <small>Cross References</small>
          </a></li>
          <li><a href="#UniChemCrossReferences">
            <small>UniChem Cross References</small>
          </a></li>
        </ul>

      </div>
    </div>

  </div>

</div>

{% endblock %}

{% block custom_js %}
<script type="text/javascript" src="/static/js/styling/scrollspy_helper.js"></script>
<script type="text/javascript" src="/static/js/styling/buttons_helper.js"></script>
<script type="text/javascript" src="/static/js/models/Compound.js"></script>
<script type="text/javascript" src="/static/js/models/CompoundList.js"></script>
<script type="text/javascript" src="/static/js/models/MechanismOfAction.js"></script>
<script type="text/javascript" src="/static/js/models/MechanismOfActionList.js"></script>
<script type="text/javascript" src="/static/js/views/base/CardView.js"></script>
<script type="text/javascript" src="/static/js/views/Compound/CompoundNameClassificationView.js"></script>
<script type="text/javascript" src="/static/js/views/Compound/CompoundRepresentationsView.js"></script>
<script type="text/javascript" src="/static/js/views/Compound/CompoundFeaturesView.js"></script>
<script type="text/javascript" src="/static/js/views/Compound/CompoundMoleculeFormView.js"></script>
<script type="text/javascript" src="/static/js/views/Compound/CompoundMoleculeFormsListView.js"></script>
<script type="text/javascript" src="/static/js/views/MechanismOfAction/MechanismOfActionRowView.js"></script>
<script type="text/javascript" src="/static/js/views/MechanismOfAction/MechanismOfActionCollItemView.js"></script>
<script type="text/javascript" src="/static/js/views/MechanismOfAction/CompoundMechanismsOfActionView.js"></script>
<script type="text/javascript" src="/static/js/compoundReportCardApp.js"></script>
{% endblock %}


{% block custom_js_inline %}

var pathname = window.location.pathname;
var pathnameParts = pathname.split('/')
CHEMBL_ID = pathnameParts[pathnameParts.length - 2]
var compound = initCompound(CHEMBL_ID);
var mechanismOfActionList = initMechanismOfActionList(CHEMBL_ID);
var moleculeFormsList = initMoleculeFormsList(compound);

var cncView = initCNCView(compound, $('#CNCCard'));
var compRepsView =  initCompRepsView(compound, $('#CompRepsCard'));
var mechOfActTableView = initCompMechanismsOfActionView(mechanismOfActionList, $('#MechOfActCard'));
var compFeaturesView = initCompFeaturesView(compound, $('#MoleculeFeaturesCard'));
var compMoleculeFormsListView = initCompMoleculeFormsListView(moleculeFormsList, $('#AlternateFormsCard'))

compound.fetch();
mechanismOfActionList.fetch({reset: true});
moleculeFormsList.fetch({reset: true});

$('.scrollspy').scrollSpy();
initializeScrollSpyHelper();
initCroppedContainers();
initExpendableMenus();

// remeber to make it view-specific
$('select').material_select();


{% endblock %}

{% block custom_afterRender %}
initCroppedTextFields();
$('.modal-trigger').leanModal();
{% endblock %}

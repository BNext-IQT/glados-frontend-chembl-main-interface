{% extends "glados/base/base_layout.html" %}

{% block title %}Document Assay Network{% endblock %}

{% block content %}

<div id='DAN-Main' class="container main-container">

  {% verbatim %}
  <script id="Handlebars-Document-DAN-FS-title" type="text/x-handlebars-template">
    <h2>
      <span><i class="icon icon-conceptual icon-c8" data-icon="l"></i> Document Assay Network for <a
        href="/document_report_card/{{chembl_id}}">{{chembl_id}}</a></span>
    </h2>
  </script>
  {% endverbatim %}

  <div class="vis-title">
  </div>

  <div class="row">

    {% block DBasicInformation-dnld %}
      {% with btn_id='DBasicInformation-dnld' additional_classes='hide-on-small-only' %}
        {% include "glados/base/btn_download_group.html" %}
      {% endwith %}
    {% endblock %}

    {% block DBasicInformation-small-dnld %}
      {% with btn_id='DBasicInformation-small-dnld' additional_classes='hide-on-med-and-up' %}
        {% include "glados/base/btn_download_small_2_lines.html" %}
      {% endwith %}
    {% endblock %}

  </div>

  <div class="row">


    <div class="input-field col s6">
      <select class="select-colours">
        <option value="solid" selected="selected">Solid</option>
        <option value="assay_type">by Assay Type</option>
        <option value="assay_test_type">by Assay Test Type</option>
      </select>
      <label>Color:</label>
    </div>

    <div class="input-field col s6">
      <select class="select-order">
        <option value="group" selected="selected">by Cluster</option>
        <option value="name">by Name</option>
        <option value="count">by Frequency</option>
        <option value="assay_type">by Assay Type</option>
        <option value="assay_test_type">by Assay Test Type</option>
      </select>
      <label>Order:</label>
    </div>

  </div>


  <div class="row">

    <div class="legend-container"></div>

  </div>

  <div id="AssayNetworkVisualisationFSContainer">

  </div>


</div>
{% endblock %}

{% block custom_js_inline %}

var pathname = window.location.pathname;
var pathnameParts = pathname.split('/')
CHEMBL_ID = pathnameParts[pathnameParts.length - 2]

var documentAssayNetwork = DocumentReportCardApp.initDocumentAssayNetwork(CHEMBL_ID);
var danFSView = DocumentReportCardApp.initDANFSView(documentAssayNetwork, $('#DAN-Main'));

documentAssayNetwork.fetch();

{% endblock %}